<div id="{{ self.dom_id() }}">
  {% if let Some(job) = job %}
    <div class="border-top border-secondary">
      <div class="p-3">
        <div class="d-flex align-items-start mb-2">
          <div class="me-2">
            <i class="fas fa-film text-primary"></i>
          </div>
          <div class="flex-grow-1">
            {% if let Some(title) = job.title %}
            <div class="text-light fw-bold mb-1">{{ title }}</div>
            {% else %}
            <div class="text-light fw-bold mb-1">{{ job.job_type }}...</div>
            {% endif %}
            {% if let Some(subtitle) = job.subtitle %}
            <div class="text-muted small mb-2">{{ subtitle }}</div>
            {% endif %}

            <div class="progress mb-2" style="height: 20px;">
              {% if job.is_processing() %}
                <div class="progress-bar progress-bar-striped progress-bar-animated"
                      role="progressbar"
                      style="width: {{ job.progress.percent }}%"
                      aria-valuenow="{{ job.progress.percent }}"
                      aria-valuemin="0"
                      aria-valuemax="100">
                  {{ job.progress.formatted_percentage() }}
                </div>
              {% elif job.is_completed() %}
                <div class="progress-bar {% if job.is_finished() %} bg-success {% else %} bg-danger {% endif %}"
                      role="progressbar"
                      style="width: {{ job.progress.percent }}%"
                      aria-valuenow="{{ job.progress.percent }}"
                      aria-valuemin="0"
                      aria-valuemax="100">
                  {{ job.progress.formatted_percentage() }}
                </div>
              {% else %}
                <div class="progress-bar bg-secondary"
                      role="progressbar"
                      style="width: {{ job.progress.percent }}%"
                      aria-valuenow="{{ job.progress.percent }}"
                      aria-valuemin="0"
                      aria-valuemax="100">
                </div>
              {% endif %}
            </div>

            <div class="d-flex justify-content-between text-muted small">
              {% if let Some(message) = job.message %}
              <span>{{ message }}</span>
              {% endif %}
              <span>ETA: {{ job.progress.eta }}</span>
            </div>
          </div>
        </div>

        <div class="d-flex justify-content-between align-items-center mt-3 pt-2 border-top border-secondary">
          <div class="text-muted small">
            <i class="fas fa-check-circle text-success me-1"></i>
            <span>0 Completed</span>
          </div>
          <div class="text-muted small">
            <i class="fas fa-pause-circle me-1"></i>
            <span>0 Queued</span>
          </div>
        </div>
      </div>
    </div>
  {% endif %}
</div>
