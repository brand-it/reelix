{% import "_poster.html" as macros %}
<div id="{{ self.dom_id() }}">
  <div class="display-flex">
    {% if query.is_empty() %}
    <div class="col-md-12 mt-3">
      <div class="getting-started-container">
        <div class="getting-started-header">
          <div class="getting-started-icon">
            <i class="fas fa-rocket"></i>
          </div>
          <div class="getting-started-content">
            <h1 class="getting-started-title">Get Started</h1>
            <p class="getting-started-description">
              Type in the name of the movie or TV show you're looking for into
              the search bar above.
            </p>
          </div>
        </div>

        <div class="getting-started-tips">
          <div class="buoy buoy--info buoy--animated">
            <div class="tip-icon">
            <i class="fas fa-search"></i>
            </div>
            <h3 class="tip-title">Search by Title</h3>
            <p class="tip-description">Find movies and TV shows instantly</p>
          </div>

          <div class="buoy buoy--info buoy--animated">
            <div class="tip-icon">
              <i class="fas fa-compact-disc"></i>
            </div>
            <h3 class="tip-title">Rip Your Media</h3>
            <p class="tip-description">Convert optical discs to digital
              files</p>
          </div>

          <div class="buoy buoy--info buoy--animated">
            <div class="tip-icon">
              <i class="fas fa-folder-open"></i>
            </div>
            <h3 class="tip-title">Organize & Upload</h3>
            <p class="tip-description">Manage and backup your media
              collection</p>
          </div>
        </div>
      </div>

      <div class="mt-3">
        <div class="row align-items-stretch">
          <div class="col-md-8">
            {{ update_indicator.render_html() | safe }}
          </div>
          <div class="col-md-4">
            {{ ftp_status.render_html() | safe }}
          </div>
        </div>
      </div>
    </div>
    {% elif search.results.len() == 0 %}
    <div class="col-md-12 text-center">
      <div class="text-warning">
        <h4 class="display-8">No Results Found For "{{ query }}"</h4>
      </div>
    </div>
    {% else %}
    <div class="display-flex">
      {% for result in search.results %}
      <div class="width-200 m-1 text-center">
        {% let is_non_clickable = result.media_type == "person" ||
        result.media_type == "collection" %}
        {% if is_non_clickable %}
        <div class="img-poster p-0 mb-2 m-0">
          {% call macros::poster(poster_path=result.poster_path) %}
          {% endcall %}
        </div>
        {% endif %}
        {% if !is_non_clickable %}
        <a class="btn img-poster-btn p-0 mb-2 m-0"
          href="/{{ result.media_type }}/{{ result.id }}"
          tabindex="0">
          {% call macros::poster(poster_path=result.poster_path) %}
          {% endcall %}
        </a>
        {% endif %}
        <h6 class="card-title overflow-hidden text-start height-60">
          <a
            class="link-light link-opacity-50-hover link-underline-opacity-25 pb-1"
            href="https://www.themoviedb.org/{{ result.media_type }}/{{ result.id }}"
            command="open_url">
            {% if result.media_type == "tv" %}
            <i class="fa fa-tv" data-prefix="fas" data-icon="tv"></i>
            {% elif result.media_type == "movie" %}
            <i class="fa fa-film" data-prefix="fas" data-icon="film"></i>
            {% elif result.media_type == "person" %}
            <i class="fa fa-person" data-prefix="fas" data-icon="person"></i>
            {% endif %}
            {{ result.get_title() }}
          </a>
          <div class="text-secondary">
            {{ result.get_date() }}
          </div>
        </h6>
      </div>
      {% endfor %}
    </div>
    {% endif %}
  </div>

</div>
